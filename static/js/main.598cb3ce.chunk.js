(this.webpackJsonpventuri=this.webpackJsonpventuri||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(22),s=n.n(a),i=(n(31),n(32),n(15)),o=n(2),u=n(1);var j=function(){return Object(u.jsx)("div",{children:"Favorites"})};var d=function(){return Object(u.jsx)("div",{children:"Destination"})};var b,x,p,h,l,O,f,v,m=function(){return Object(u.jsx)("div",{children:"404"})},w=n(26),k=n(6),g=n.n(k),T=n(10),D=n(20),y=function(e){var t=new Date;return t.setSeconds(t.getSeconds()+e),t},B=function(){var e=new Date;return{date:e.toISOString().substr(0,10),time:e.toTimeString().substr(0,5)}},S=function(e){return!!e.accessToken&&!(e.expires&&e.expires<new Date)},F={accessToken:"",expires:null},E=function(){var e=Object(T.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(F)){e.next=3;break}return e.next=3,A();case 3:return e.next=5,z(t);case 5:if(401!==(r=e.sent).status){e.next=12;break}return e.next=9,A();case 9:return e.next=11,z(t);case 11:r=e.sent;case 12:if(200!==r.status){e.next=17;break}return e.next=15,r.json();case 15:return n=e.sent,e.abrupt("return",n);case 17:return e.next=19,r.json();case 19:return n=e.sent,e.abrupt("return",n);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(T.a)(g.a.mark((function e(t){var n,r,c,a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=B(),r=n.date,c=n.time,a="https://api.vasttrafik.se/bin/rest.exe/v2/departureBoard?id=".concat(t,"&date=").concat(r,"&time=").concat(c,"&format=json"),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(F.accessToken)}});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(T.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.vasttrafik.se:443/token",{headers:{Authorization:"Basic ".concat("T0hDc2txdEp6cDhMYlVmRjhsaWVfeERHdDBBYTp6ME5wWWY3dlYxbUFhTEVFbkdyRFprTGEwODBh"),"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:"grant_type=client_credentials"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(T.a)(g.a.mark((function e(){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:t=e.sent,n=y(t.expires_in),r=t.access_token,F={accessToken:r,expires:n};case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=n(8),_=n(9),I=_.a.div(b||(b=Object(Y.a)(["\n  border-radius: 8px;\n  background-color: white;\n  margin: 8px;\n  padding: 32px;\n"]))),M=_.a.h1(x||(x=Object(Y.a)(["\n  font-size: 18px;\n"]))),P=_.a.h2(p||(p=Object(Y.a)(["\n  font-size: 28px;\n"]))),R=_.a.h2(h||(h=Object(Y.a)(["\n  font-size: 34px;\n"]))),V=_.a.h3(l||(l=Object(Y.a)(["\n  font-size: 24px;\n"]))),W=function(e){var t=e.stop,n=e.time,r=e.rtTime,c=e.direction,a=e.sname;return Object(u.jsxs)(I,{children:[Object(u.jsx)(M,{children:"Departs"}),Object(u.jsx)(P,{children:t}),Object(u.jsx)(R,{children:n}),Object(u.jsx)(V,{children:r}),Object(u.jsx)("div",{children:"".concat(a," ").concat(c)})]})},G=_.a.div(O||(O=Object(Y.a)(["\n  border-radius: 8px;\n  background-color: white;\n  margin: 8px;\n  padding: 16px 24px;\n  font-size: 18px;\n"]))),H=_.a.div(f||(f=Object(Y.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-bottom: 1px solid gray;\n"]))),J=function(e){var t=e.departures;return Object(u.jsx)(G,{children:t.map((function(e){return Object(u.jsxs)(H,{children:[Object(u.jsx)("p",{children:e.time}),Object(u.jsx)("p",{children:e.direction}),Object(u.jsx)("p",{children:e.sname})]})}))})},L=_.a.div(v||(v=Object(Y.a)([""]))),U=function(){var e=Object(r.useState)([]),t=Object(D.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(null),i=Object(D.a)(s,2),o=i[0],j=i[1],d=Object(r.useCallback)(Object(T.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("9021014006160000");case 2:(t=e.sent).DepartureBoard.error?j(t):(n=t.DepartureBoard.Departure,a(n)),console.log(t);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(r.useEffect)((function(){d()}),[d]),Object(u.jsxs)(L,{children:[n.length>0&&Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(W,Object(w.a)({},n[0])),Object(u.jsx)(J,{departures:n.slice(1,4)})]}),o&&Object(u.jsx)("h2",{children:o.DepartureBoard.error}),o&&Object(u.jsx)("p",{children:o.DepartureBoard.errorText})]})};var N=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(i.a,{children:Object(u.jsxs)("div",{children:[Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)(U,{})}),Object(u.jsx)(o.a,{path:"/venturi",children:Object(u.jsx)(U,{})}),Object(u.jsx)(o.a,{path:"/favorites",children:Object(u.jsx)(j,{})}),Object(u.jsx)(o.a,{path:"/destination",children:Object(u.jsx)(d,{})}),Object(u.jsx)(o.a,{path:"*",children:Object(u.jsx)(m,{})})]}),Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:"/",children:"Home"})}),Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:"/favorites",children:"About"})}),Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:"/destination",children:"Users"})})]})})]})})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root")),q()}},[[41,1,2]]]);
//# sourceMappingURL=main.598cb3ce.chunk.js.map