(this.webpackJsonpventuri=this.webpackJsonpventuri||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(20),s=n.n(a),i=(n(30),n(31),n(13)),u=n(2),o=n(1);var j=function(){return Object(o.jsx)("div",{children:"Favorites"})};var d=function(){return Object(o.jsx)("div",{children:"Destination"})};var p,b=function(){return Object(o.jsx)("div",{children:"404"})},h=n(6),x=n.n(h),l=n(8),f=n(18),O=function(e){var t=new Date;return t.setSeconds(t.getSeconds()+e),t},v=function(){var e=new Date;return{date:e.toISOString().substr(0,10),time:e.toTimeString().substr(0,5)}},m=function(e){return!!e.accessToken&&!(e.expires&&e.expires<new Date)},k={accessToken:"",expires:null},w=function(){var e=Object(l.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(k)){e.next=3;break}return e.next=3,g();case 3:return e.next=5,T(t);case 5:if(401!==(r=e.sent).status){e.next=12;break}return e.next=9,g();case 9:return e.next=11,T(t);case 11:r=e.sent;case 12:if(200!==r.status){e.next=17;break}return e.next=15,r.json();case 15:return n=e.sent,e.abrupt("return",n);case 17:return e.next=19,r.json();case 19:return n=e.sent,e.abrupt("return",n);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(x.a.mark((function e(t){var n,r,c,a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v(),r=n.date,c=n.time,a="https://api.vasttrafik.se/bin/rest.exe/v2/departureBoard?id=".concat(t,"&date=").concat(r,"&time=").concat(c,"&format=json"),e.next=4,fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(k.accessToken)}});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.vasttrafik.se:443/token",{headers:{Authorization:"Basic ".concat("T0hDc2txdEp6cDhMYlVmRjhsaWVfeERHdDBBYTp6ME5wWWY3dlYxbUFhTEVFbkdyRFprTGEwODBh"),"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:"grant_type=client_credentials"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(x.a.mark((function e(){var t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:t=e.sent,n=O(t.expires_in),r=t.access_token,k={accessToken:r,expires:n};case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=n(21),S=n(22).a.h1(p||(p=Object(B.a)(["\n  font-size: 64px;\n"])));var y=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),s=Object(f.a)(a,2),i=s[0],u=s[1],j=Object(r.useCallback)(Object(l.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("9021014006160000");case 2:(t=e.sent).DepartureBoard.error?u(t):c(t.DepartureBoard.Departure),console.log(t);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(r.useEffect)((function(){j()}),[j]),Object(o.jsxs)("div",{children:[Object(o.jsx)(S,{children:"Departs"}),i&&Object(o.jsx)("h2",{children:i.DepartureBoard.error}),i&&Object(o.jsx)("p",{children:i.DepartureBoard.errorText}),n.length>1&&n.map((function(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:e.stop}),Object(o.jsx)("h3",{children:"".concat(e.name," ").concat(e.direction)}),Object(o.jsxs)("p",{children:["Sp\xe5r: ",e.track]}),Object(o.jsxs)("p",{children:["Tid: ",e.time]}),Object(o.jsxs)("p",{children:["F\xf6rv\xe4ntad Tid: ",e.rtTime]})]})}))]})};var F=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(i.a,{children:Object(o.jsxs)("div",{children:[Object(o.jsxs)(u.c,{children:[Object(o.jsx)(u.a,{exact:!0,path:"/",children:Object(o.jsx)(y,{})}),Object(o.jsx)(u.a,{path:"/favorites",children:Object(o.jsx)(j,{})}),Object(o.jsx)(u.a,{path:"/destination",children:Object(o.jsx)(d,{})}),Object(o.jsx)(u.a,{path:"*",children:Object(o.jsx)(b,{})})]}),Object(o.jsx)("nav",{children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(i.b,{to:"/",children:"Home"})}),Object(o.jsx)("li",{children:Object(o.jsx)(i.b,{to:"/favorites",children:"About"})}),Object(o.jsx)("li",{children:Object(o.jsx)(i.b,{to:"/destination",children:"Users"})})]})})]})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(F,{})}),document.getElementById("root")),E()}},[[40,1,2]]]);
//# sourceMappingURL=main.0efe5862.chunk.js.map